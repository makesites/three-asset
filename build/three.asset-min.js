"undefined"!=typeof THREE&&function(s){s.Asset=function(){s.Loader.call(this)},s.Asset.prototype={constructor:s.Asset,load:function(t,e){if(this.loaded=0,this.lod=new s.LOD,this._callback="function"==typeof this._callback?e:function(){},this.sources=this.sources instanceof Array?this.sources:[this.sources],!this.sources.length)return this._callback(lod);for(var a in this.sources){var n=this.sources[a];this.loadSource(n,this._bind(this,this.parse))}},parse:function(s,t){var e=this.getObject(s,t),a=this.loaded,n=10;this.lod.addLevel(e,a*n),this.loaded++,this.loaded==this.sources.length&&this._callback(this.lod)},loadSource:function(t){var e,a,n,o=this;switch(n=t.substr(t.lastIndexOf(".")+1),a=t.substr(0,t.lastIndexOf(".")),n){case"bin":e=new s.BinaryLoader(!0),e.load(a+".js",function(){o.callback.apply(o,arguments)});break;case"obj":var i=t,c=a+".mtl";e=new s.OBJMTLLoader,e.load(i,c,function(){o.callback.apply(o,arguments)});break;case"js":e=new s.JSONLoader(!0),e.load(t,function(){o.callback.apply(o,arguments)})}},getObject:function(t,e){var a=new s.Mesh(t,new s.MeshFaceMaterial(e));return a},_bind:function(s,t){return function(){t.apply(s,arguments)}}}}(THREE);