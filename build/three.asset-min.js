"undefined"!=typeof THREE&&function(s){s.Asset=function(){s.Loader.call(this)},s.Asset.prototype={constructor:s.Asset,load:function(t,e){if(this.loaded=0,this.lod=new s.LOD,this._callback="function"==typeof this._callback?e:function(){},this.sources=this.sources instanceof Array?this.sources:[this.sources],!this.sources.length)return this._callback(lod);for(var a in this.sources){var i=this.sources[a];this.loadSource(i,this._bind(this,this.parse))}},parse:function(s,t){var e=this.getObject(s,t),a=this.loaded,i=10;this.lod.addLevel(e,a*i),this.loaded++,this.loaded==this.sources.length&&this._callback(this.lod)},loadSource:function(){var t,e,a,i=this;switch(a=file.substr(file.lastIndexOf(".")+1),e=file.substr(0,file.lastIndexOf(".")),a){case"bin":t=new s.BinaryLoader(!0),t.load(e+".js",function(){i.callback.apply(i,arguments)});break;case"obj":var n=file,o=e+".mtl";t=new s.OBJMTLLoader,t.load(n,o,function(){i.callback.apply(i,arguments)});break;case"js":t=new s.JSONLoader(!0),t.load(file,function(){i.callback.apply(i,arguments)})}},getObject:function(t,e){var a=new s.Mesh(t,new s.MeshFaceMaterial(e));return a},_bind:function(s,t){return function(){t.apply(s,arguments)}}}}(THREE);